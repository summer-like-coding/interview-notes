import{_ as e}from"./plugin-vue_export-helper-c27b6911.js";import{o as i,c as a,b as d}from"./app-81daabb5.js";const o={},l=d('<h3 id="浏览器解析" tabindex="-1"><a class="header-anchor" href="#浏览器解析" aria-hidden="true">#</a> 浏览器解析</h3><ol><li><p>浏览器会判断输入的网址是<code>搜索内容</code>还是<code>网址</code>，如果是搜索内容，浏览器会将其转换为<code>https://www.baidu.com/s?wd=搜索内容</code>的形式，然后再发送请求。 <strong>这边我们考虑的都是键入网址内容</strong></p></li><li><p>浏览器会先检查本地缓存中是否有该网址对应的资源，如果有，就直接从缓存中获取资源，如果没有，就发送请求到服务器。</p></li><li><p>浏览器会解析网址，获取协议、域名、端口号、路径、查询字符串、锚点等信息。</p></li></ol><h3 id="dns解析" tabindex="-1"><a class="header-anchor" href="#dns解析" aria-hidden="true">#</a> DNS解析</h3><ol><li>浏览器会先检查本地缓存中是否有该网址对应的<code>IP</code>地址，如果有，就直接从缓存中获取，如果没有，就发送请求到<code>DNS</code>服务器。</li><li>向DNS发送请求采用的是迭代查询，即先向根域名服务器发送请求，根域名服务器会返回一个<code>IP</code>地址，然后再向该<code>IP</code>地址对应的服务器发送请求，该服务器会返回一个<code>IP</code>地址，然后再向该<code>IP</code>地址对应的服务器发送请求，直到最后返回一个<code>IP</code>地址。</li></ol><p><strong>在DNS解析完成以后，就可以获取到目的网络的IP地址，这时候应用层就会生成相应的Http报文，然后从上往下传输到传输层</strong></p><h3 id="tcp连接" tabindex="-1"><a class="header-anchor" href="#tcp连接" aria-hidden="true">#</a> TCP连接</h3><ol><li>TCP在传输数据之前，要先进行三次握手，建立连接。</li><li>双方建立好连接以后，就可以进行数据传输了。如果HTTP请求的消息体较大，TCP会将消息体分成多个数据包，然后在接收端再将其组装起来。</li><li>将封装好的数据包传输到网络层。</li></ol><h3 id="ip协议" tabindex="-1"><a class="header-anchor" href="#ip协议" aria-hidden="true">#</a> IP协议</h3><ol><li>IP协议需要将数据封装为数据包，然后发送到数据链路层。</li><li>IP协议需要知道源地址IP和目的地址IP，这两个地址都是IP地址，而不是域名。</li></ol><h3 id="mac地址" tabindex="-1"><a class="header-anchor" href="#mac地址" aria-hidden="true">#</a> MAC地址</h3><ol><li>IP头部生成后，还需要在数据链路层生成MAC头部，MAC头部包含源MAC地址和目的MAC地址。</li><li>发送方的MAC在网卡生产的时候就已经固定了，而接收方的MAC地址是通过ARP协议获取的。</li><li><code>ARP</code>获取MAC地址的方式，是一种广播的方式，即发送方会向网络中的所有主机发送请求，询问目的主机的MAC地址，然后目的主机会向发送方回复MAC地址。<strong>ARP为了提高效率，会有一个缓存</strong></li><li>在数据链路层，数据包会被封装为帧吗，帧里面包含了MAC头部和IP头部，然后再发送到物理层。</li></ol><h3 id="网卡" tabindex="-1"><a class="header-anchor" href="#网卡" aria-hidden="true">#</a> 网卡</h3><ol><li>网卡会将数据包转换为电信号，然后通过网线发送出去，发送到路由器上。<strong>也就是说，这才是真正的数据发送过程</strong></li></ol><h3 id="交换机" tabindex="-1"><a class="header-anchor" href="#交换机" aria-hidden="true">#</a> 交换机</h3><ol><li>交换机的端口因为无法获取到MAC地址，所以会将数据包转发到所有的端口，但是交换机会记录下数据包的源MAC地址和端口号，然后将其存储到MAC地址表中。</li><li>所以交换机会根据MAC地址表，将数据包转发到目的主机。</li></ol><h3 id="路由器" tabindex="-1"><a class="header-anchor" href="#路由器" aria-hidden="true">#</a> 路由器</h3><ol><li>网络包经过交换机转发到路由器上，路由器会根据IP头部的目的IP地址，查找路由表，然后将数据包转发到下一个路由器。</li></ol>',17),r=[l];function c(h,t){return i(),a("div",null,r)}const P=e(o,[["render",c],["__file","键入网址.html.vue"]]);export{P as default};
